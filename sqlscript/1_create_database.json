{
	"name": "1_create_database",
	"properties": {
		"content": {
			"query": "\n-- CREATE DATABASE\nIF DB_ID('bogo_marketing') IS NULL\n    CREATE DATABASE bogo_marketing;\n\n-- SWITCH TO bogo_marketing database\nUSE bogo_marketing;\n\nALTER DATABASE bogo_marketing COLLATE Latin1_General_100_CI_AI_SC_UTF8;\n\nCREATE SCHEMA bronze\nGO\n\nCREATE SCHEMA silver\nGO\n\nCREATE SCHEMA gold\nGO\n\nCREATE EXTERNAL DATA SOURCE ws_container_bogo_marketing\nWITH(\n    LOCATION = 'https://bogomarketingdl.dfs.core.windows.net/ws-container/'\n);\nCREATE EXTERNAL DATA SOURCE ws_container_bogo_marketing_raw\nWITH(\n    LOCATION = 'https://bogomarketingdl.dfs.core.windows.net/ws-container/raw'\n);\n\nIF NOT EXISTS (SELECT * FROM sys.external_file_formats WHERE name = 'parquet_file_format')\n    CREATE EXTERNAL FILE FORMAT parquet_file_format\n    WITH (\n        FORMAT_TYPE = PARQUET,\n        DATA_COMPRESSION = 'org.apache.hadoop.io.compress.SnappyCodec'\n    );",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "bogo_marketing",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}